<div class="container py-4" ng-controller="CategoryController">

    <!-- ðŸ”” ThÃ´ng bÃ¡o -->
    <div class="toast-notify" ng-if="showToast">{{toastMessage}}</div>

    <h3 class="fw-bold mb-4 text-center">ðŸ“‚ Quáº£n lÃ½ Danh má»¥c</h3>

    <!-- Form thÃªm/cáº­p nháº­t -->
    <div class="card p-3 mb-4 shadow-sm border-0">
        <h5 class="fw-bold mb-3">{{isEditing ? 'Cáº­p nháº­t danh má»¥c' : 'ThÃªm danh má»¥c má»›i'}}</h5>
        <div class="row g-3 align-items-center">
            <div class="col-md-8">
                <input type="text" class="form-control" ng-model="category.name" placeholder="Nháº­p tÃªn danh má»¥c...">
            </div>
            <div class="col-md-4 text-end">
                <button class="btn btn-primary px-4 me-2" ng-click="saveCategory()">
                    {{isEditing ? 'LÆ°u thay Ä‘á»•i' : 'ThÃªm má»›i'}}
                </button>
                <button class="btn btn-secondary" ng-if="isEditing" ng-click="cancelEdit()">Há»§y</button>
            </div>
        </div>
    </div>

    <!-- Báº£ng danh sÃ¡ch -->
    <div class="card shadow-sm border-0">
        <div class="card-body p-0">
            <table class="table table-hover mb-0 align-middle text-center">
                <thead class="table-dark">
                <tr>
                    <th width="10%">ID</th>
                    <th>TÃªn danh má»¥c</th>
                    <th width="20%">Thao tÃ¡c</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="cat in categories">
                    <td>{{cat.id}}</td>
                    <td>{{cat.name}}</td>
                    <td>
                        <button class="btn btn-warning btn-sm me-1" ng-click="editCategory(cat)">
                            <i class="bi bi-pencil"></i> Sá»­a
                        </button>
                        <button class="btn btn-danger btn-sm" ng-click="deleteCategory(cat.id)">
                            <i class="bi bi-trash"></i> XÃ³a
                        </button>
                    </td>
                </tr>
                <tr ng-if="categories.length === 0">
                    <td colspan="3" class="text-muted py-3">ChÆ°a cÃ³ danh má»¥c nÃ o.</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- ===== CSS ===== -->
<style>
    .container {
        max-width: 1100px;
        padding: 30px;
        background-color: #f8fafc;
        border-radius: 12px;
    }

    h3.fw-bold {
        color: #1e293b;
        font-size: 2rem;
        margin-bottom: 1.5rem;
    }

    /* ========== CARD ========== */
    .card {
        border-radius: 14px;
        border: 1px solid #e2e8f0;
        background-color: #ffffff;
        box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        transition: all 0.2s ease;
    }
    .card:hover {
        box-shadow: 0 4px 14px rgba(0,0,0,0.08);
    }
    .card h5 {
        color: #0f172a;
        font-weight: 600;
        margin-bottom: 1rem;
    }

    /* ========== INPUT ========== */
    .form-control {
        height: 48px;
        font-size: 16px;
        border-radius: 8px;
        border: 1px solid #cbd5e1;
        transition: 0.3s;
    }
    .form-control:focus {
        border-color: #2563eb;
        box-shadow: 0 0 0 0.2rem rgba(37, 99, 235, 0.25);
    }

    /* ========== BUTTON ========== */
    .btn {
        border-radius: 8px;
        font-weight: 500;
        padding: 10px 18px;
        transition: all 0.2s ease-in-out;
    }
    .btn:active {
        transform: scale(0.97);
    }
    .btn-primary {
        background-color: #2563eb;
        border: none;
    }
    .btn-primary:hover {
        background-color: #1d4ed8;
    }
    .btn-secondary {
        background-color: #64748b;
        border: none;
    }
    .btn-secondary:hover {
        background-color: #475569;
    }
    .btn-warning {
        background-color: #fbbf24;
        color: #000;
    }
    .btn-warning:hover {
        background-color: #f59e0b;
    }
    .btn-danger {
        background-color: #ef4444;
    }
    .btn-danger:hover {
        background-color: #dc2626;
    }

    /* ========== TABLE ========== */
    .table {
        font-size: 16px;
        border-collapse: separate;
        border-spacing: 0;
    }
    .table thead {
        background-color: #1e293b;
        color: #ffffff;
    }
    .table th {
        padding: 14px 10px;
        font-weight: 600;
        border-bottom: 2px solid #0f172a;
    }
    .table td {
        padding: 12px 10px;
        vertical-align: middle;
    }
    .table-hover tbody tr:hover {
        background-color: #f1f5f9;
    }
    .text-muted {
        color: #94a3b8 !important;
        font-size: 15px;
    }

    /* ========== TOAST ========== */
    .toast-notify {
        position: fixed;
        top: 100px;
        right: 20px;
        background: #10b981;
        color: white;
        padding: 14px 24px;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        animation: fadeInOut 3s ease forwards;
        z-index: 9999;
        font-weight: 500;
    }
    @keyframes fadeInOut {
        0% { opacity: 0; transform: translateY(-10px); }
        10% { opacity: 1; transform: translateY(0); }
        90% { opacity: 1; transform: translateY(0); }
        100% { opacity: 0; transform: translateY(-10px); }
    }
</style>

<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
