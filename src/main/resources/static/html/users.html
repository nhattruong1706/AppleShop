<div class="container py-4" ng-controller="UserController">
    <h3 class="fw-bold mb-4 text-center">üë• Qu·∫£n l√Ω t√†i kho·∫£n</h3>

    <!-- Thanh t√¨m ki·∫øm -->
    <div class="card p-3 mb-4 shadow-sm border-0">
        <div class="row g-3 align-items-center">
            <div class="col-md-8">
                <input type="text" class="form-control" ng-model="searchUsername"
                       placeholder="Nh·∫≠p username c·∫ßn t√¨m...">
            </div>
            <div class="col-md-4 text-end">
                <button class="btn btn-primary px-4" ng-click="searchUser()">
                    <i class="bi bi-search"></i> T√¨m ki·∫øm
                </button>
                <button class="btn btn-secondary ms-2" ng-click="loadUsers()">
                    <i class="bi bi-arrow-clockwise"></i> T·∫£i l·∫°i
                </button>
            </div>
        </div>
    </div>

    <!-- B·∫£ng ng∆∞·ªùi d√πng -->
    <div class="card shadow-sm border-0">
        <div class="card-body p-0">
            <table class="table table-hover mb-0 align-middle text-center">
                <thead class="table-dark">
                <tr>

                    <th>Username</th>
                    <th>Email</th>
                    <th>Quy·ªÅn</th>
                    <th>Thao t√°c</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="user in users">

                    <td>{{user.username}}</td>
                    <td>{{user.email}}</td>
                    <td>
                        <select class="form-select form-select-sm w-auto mx-auto"
                                ng-model="user.role"
                                ng-change="updateRole(user)">
                            <option value="USER">USER</option>
                            <option value="ADMIN">ADMIN</option>
                            <option value="STAFF">STAFF</option>
                        </select>
                    </td>
                    <td>
                        <button class="btn btn-danger btn-sm"
                                ng-click="deleteUser(user.id)">
                            <i class="bi bi-trash"></i> X√≥a
                        </button>
                    </td>
                </tr>
                <tr ng-if="users.length === 0">
                    <td colspan="5" class="text-muted py-3">
                        Kh√¥ng t√¨m th·∫•y ng∆∞·ªùi d√πng n√†o.
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
